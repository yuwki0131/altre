# TODO: alisp 設定外部化 MVP

## 概要
alisp を用いた設定ファイル読み込みパイプラインを整備し、既存キーバインド定義を外部スクリプト化する。起動時に `alisp/init.al` および利用者設定 `~/.altre/init.al` を順次評価し、alisp からキーバインドを定義できる最小構成を構築する。

## 設計タスク
- alisp ローダーの責務とロード順序（デフォルト・ユーザー設定・エラー処理）を仕様化し、既存アプリ初期化フローへの組み込みポイントを整理する。
- alisp スクリプトからキーバインドを操作するためのコマンド／API surface を設計し、既存キーバインド一覧を alisp で再現するためのマッピング表を作成する。
- alisp 側のモジュール構成（ディレクトリレイアウト、`load` ルール、デフォルト init スクリプトの責務）を定義し、将来の拡張方針（非対象事項を含む）を整理する。

## 実装タスク
- `alisp/init.al` および `~/.altre/init.al` を起動時に順次読み込むローダーを実装し、`load` が相対・絶対パスを解決できるようファイル I/O レイヤーを整備する。
- alisp からエディタコマンドおよびキーバインド API を呼べるブリッジを実装し、既存内蔵キーバインド定義をコマンド化した上で alisp 経由の設定に置き換える。
- 既存のデフォルトキーバインドを `alisp/init.al` に移植し、アプリ内ハードコードを削除して alisp ローダー依存に切り替える。

## テストタスク
- alisp ローダーの単体テストを追加し、デフォルトのみ／ユーザー設定あり／ファイル欠如時など主要パスで適切に読み込めることを確認する。
- 新しいキーバインド API の結合テストを作成し、alisp スクリプトから定義したバインディングが実行経路に反映されることを検証する。
- 既存の標準キーバインドが alisp 外部化後も同じ振る舞いになることを確認する回帰テスト（キーバインド統合テスト）を更新する。
