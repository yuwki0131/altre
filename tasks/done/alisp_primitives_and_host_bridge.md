# alisp プリミティブ関数とホスト連携

## 背景
- QA.md とドラフトでは初期版で提供する機能を最小限にする方針だが、四則演算や文字列操作、ミニバッファ出力といった基本プリミティブは必須。
- Rust 側の既存モジュールと安全に連携する API セットを定義する必要がある。

## ゴール
- コアプリミティブ（数値演算、比較、文字列結合、`print`/`message` など）と、必要最低限のエディタ連携関数を実装。
- `src/alisp/primitives` に整理し、登録テーブルを evaluator から利用可能にする。
- エラー時はミニバッファ表示に利用できるよう統一エラー型へ変換。

## ToDo
- [x] 必要なプリミティブ一覧を仕様書から抽出し設計。
- [x] Rust 実装とバインディングを実装。
- [x] 単体テスト + 結合テスト（ミニバッファ経由の評価）を追加。
- [x] ドキュメントコメントで使用例を提示。

## 成果物
- `src/alisp/primitives.rs`
- `src/alisp/evaluator.rs`（プリミティブ登録）
- `tests/alisp_interpreter.rs`

## 参考
- QA.md:Q1, Q6, Q7
- docs/adr/0004-alisp-first-draft.md
